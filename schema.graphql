type Tag {
  key: String!
  value: String!
}

input TagInput {
  key: String!
  value: String!
}

type FolderConnection {
  folders: [MetaData!]
  files: [MetaData!]
  nextToken: String
}

type MetaData {
  id: String!
  tags: [Tag!]
}

input MetaDataInput {
  tags: [TagInput!]
}

enum SortOrder {
  ASC
  DESC
}

input SortTerm {
  key: String!
  sortOrder: SortOrder!
}

input SearchInput {
  filter: MetaDataInput!
  sorter: [SortTerm!]
}

type Query {
  listFolder(id: String, nextToken: String, pageSize: Int!): FolderConnection
  search(
    searchInput: SearchInput
    nextToken: String
    pageSize: Int!
  ): FolderConnection
  tags: [Tag!]!
}

type Mutation {
  updateMetaData(id: String!, metaDataInput: MetaDataInput): MetaData
}

schema {
  query: Query
  mutation: Mutation
}
